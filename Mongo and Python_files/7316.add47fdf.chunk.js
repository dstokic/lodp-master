(self.webpackChunklite=self.webpackChunklite||[]).push([[7316,478],{40606:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function o(){return(o=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var r=i.createElement("g",{opacity:.8,clipPath:"url(#trending-topic_svg__clip0)",stroke:"#000"},i.createElement("circle",{cx:10,cy:10,r:9.5}),i.createElement("path",{d:"M1.46 13.57l4.47-4.48m.04-.01l3.67 3.66m.03 0l5.1-5.1m-2.15-.83h3m0 0v3",strokeLinecap:"round"})),a=i.createElement("defs",null,i.createElement("clipPath",{id:"trending-topic_svg__clip0"},i.createElement("path",{fill:"#fff",d:"M0 0h20v20H0z"})));const l=function(e){return i.createElement("svg",o({width:20,height:20,fill:"none"},e),r,a)}},33865:(e,n,t)=>{"use strict";t.d(n,{T:()=>i});var i=52},88833:(e,n,t)=>{"use strict";t.d(n,{u:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"usePostUrl_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"customDomainState"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"live"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"domain"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasSubdomain"}},{kind:"Field",name:{kind:"Name",value:"username"}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"isSeries"}},{kind:"Field",name:{kind:"Name",value:"mediumUrl"}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}},{kind:"Field",name:{kind:"Name",value:"uniqueSlug"}}]}}]}},34488:(e,n,t)=>{"use strict";t.d(n,{D:()=>f,L:()=>p});var i=t(59713),o=t.n(i),r=t(67294),a=t(75341),l=t(36823),c=t(61250),u=t(67297),s=t(83687);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=function(){var e=(0,u.v9)((function(e){return e.config.authDomain})),n=(0,a.g$)(),t=(0,c.uk)(),i=(0,s.B)(),o=(0,l.I)();return(0,r.useCallback)((function(r){var a;if(!n&&r.mediumUrl)return r.mediumUrl;var l=r.uniqueSlug||r.id;if(r.isSeries)return"https://".concat(e).concat(t("ShowSeries",{postId:l}));if(null!==(a=r.sequence)&&void 0!==a&&a.slug)return"https://".concat(e).concat(t("ShowSequencePost",{sequenceSlug:r.sequence.slug,postId:l}));if(r.collection){var c=i({id:r.collection.id,domain:r.collection.domain,slug:r.collection.slug});return"".concat(c,"/").concat(l)}if(r.creator){var u,s,d,f="customDomainState"in r.creator&&null!==(u=null===(s=r.creator.customDomainState)||void 0===s||null===(d=s.live)||void 0===d?void 0:d.domain)&&void 0!==u?u:null,p=o(m(m({},r.creator),{},{domain:f}));return"".concat(p,"/").concat(l)}return"https://".concat(e).concat(t("ShowPost",{postId:l}))}),[n,t,i,o])},p=function(e){return f()(e)}},63928:(e,n,t)=>{"use strict";t.d(n,{b3:()=>l,Iq:()=>c});var i=t(319),o=t.n(i),r=t(61598),a=t(32018),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CollectionFollowButton_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"canToggleEmail"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiClickable_collection"}}]}}].concat(o()(r.n.definitions),o()(a.Os.definitions))}},79810:(e,n,t)=>{"use strict";t.d(n,{oQ:()=>I,Pl:()=>x,Mv:()=>A,Bk:()=>j});var i=t(28655),o=t.n(i),r=t(67154),a=t.n(r),l=t(59713),c=t.n(l),u=t(71439),s=t(67294),d=t(66893),m=t(82318),f=t(18579),p=t(95760),v=t(51512),k=t(6688),g=t(19551),S=t(8403),b=t(67297),y=t(40606),h=t(27952);function P(){var e=o()(["\n  fragment TopicPill_tag on Tag {\n    __typename\n    id\n    displayTitle\n  }\n"]);return P=function(){return e},e}function T(){var e=o()(["\n  fragment TopicPill_topic on Topic {\n    __typename\n    id\n    name\n    slug\n  }\n"]);return T=function(){return e},e}function N(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?N(Object(t),!0).forEach((function(n){c()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):N(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var O={S:"2px 8px",M:"8px 16px"},w=function(){return{whiteSpace:"nowrap"}},C=function(){return{position:"absolute",left:"-10px",top:"-10px",borderRadius:"50%",backgroundColor:"white",border:"3px solid white"}},E=function(){return{marginRight:"8px"}},D=function(e){return function(){return{padding:"".concat(O[e]),position:"relative"}}},F=function(e){return{backgroundColor:"".concat(e.baseColor.background.normal),borderRadius:"100px",transition:"background 300ms ease",":hover":{backgroundColor:"".concat(e.baseColor.border.lighter)}}},I="40px",x=function(e){var n=e.topic,t=e.isTrending,i=void 0!==t&&t,o=e.scale,r=void 0===o?"M":o,l=e.color,c=void 0===l?"DARKER":l,u=e.index,P=(0,k.I)(),T=(0,b.v9)((function(e){return e.config.authDomain})),N=(0,b.v9)((function(e){return e.config.topicToTagMappings})),O=(0,v.Lk)(),I=(0,S.PM)(),x=(0,b.v9)((function(e){return e.navigation.referrer})),A=(0,p.Av)(),j=function(e,n,t){return"Topic"===e.__typename?n?t[e.slug]:e.slug:e.id||""}(n,Boolean((0,d.P5)("enable_hot_topics_v2")),N),R=!N[j],M="Topic"===n.__typename?n.name:n.displayTitle,L=n.id||void 0,U=(0,b.v9)((function(e){return e.navigation.currentLocation})),V=(0,v.f0)(_(_({},O),{},{index:u,topicId:L})),B={source:V,referrerSource:I};"Topic"===n.__typename?(B.topicId=n.id,B.topicSlug=j):B.tagSlug=j;var q={referrer:x||U},Q="".concat(function(e,n,t){return n?t?(0,h.Ih$)(n,e):(0,h.KL9)(e,n):"#"}(T,j,R)),H=(0,f.n)({name:"detail",scale:r,color:c}),$="Topic"===n.__typename?"topic.presented":"tag.presented",z=(0,g.g)({onPresentedFn:function(){A.event($,B,q)}});return s.createElement(v.cW,{source:{index:u,topicId:L},extendSource:!0},s.createElement(m.r,a()({href:Q},"M"===r&&{className:P(E)},{onClick:function(){A.event("tag.clicked",{source:V,referrerSource:I,tagSlug:j},q)}}),s.createElement("div",{className:P([D(r),F,H,w]),ref:z},i&&s.createElement("div",{className:P(C)},s.createElement(y.Z,null)),M)))},A=(0,u.Ps)(T()),j=(0,u.Ps)(P())},30570:(e,n,t)=>{"use strict";t.d(n,{sK:()=>p,L0:()=>v});var i=t(28655),o=t.n(i),r=t(63038),a=t.n(r),l=t(71439),c=t(67294),u=t(59635),s=t(73788),d=t(57612);function m(){var e=o()(["\n  fragment InlineExpansionContext_post on Post {\n    id\n    creator {\n      id\n      customStyleSheet {\n        id\n        blogroll {\n          visibility\n        }\n      }\n      isAuroraVisible\n      followedCollections\n      socialStats {\n        followingCount\n        collectionFollowingCount\n      }\n      ...UserSubscribeButton_user\n    }\n    collection {\n      id\n      canToggleEmail\n      description\n      isAuroraEligible\n      isAuroraVisible\n      viewerEdge {\n        id\n        isEditor\n      }\n      tagline\n    }\n    customStyleSheet {\n      id\n      blogroll {\n        visibility\n      }\n    }\n  }\n  ","\n"]);return m=function(){return e},e}var f=c.createContext({expandedPostId:null,setExpandedPostId:function(){},postInView:!1,setPostInView:function(){},expandedPost:null,setExpandedPost:function(){},clearExpandedState:function(){}}),p=function(){return c.useContext(f)},v=function(e){var n=e.children,t=c.useState(null),i=a()(t,2),o=i[0],r=i[1],l=c.useState(!1),d=a()(l,2),m=d[0],p=d[1],v=c.useState(null),k=a()(v,2),g=k[0],S=k[1],b=function(){S(null),r(null),p(!1)},y=(0,u.I)();return c.useEffect((function(){b()}),[y.pathname]),c.createElement(f.Provider,{value:{expandedPostId:o,setExpandedPostId:r,postInView:m,setPostInView:p,expandedPost:g,setExpandedPost:S,clearExpandedState:b}},c.createElement(s.k,{post:g,preload:!0},n))};(0,l.Ps)(m(),d.w)},93912:(e,n,t)=>{"use strict";t.d(n,{z:()=>i});var i=function(e){switch(e){case"PUBLIC":return 0;case"UNLISTED":return 1;case"LOCKED":return 2;default:return}}},29577:(e,n,t)=>{"use strict";t.d(n,{L:()=>a});var i=t(68356),o=t.n(i),r=t(19725),a=o()({loader:function(){return Promise.all([t.e(8342),t.e(8543),t.e(5402),t.e(9590),t.e(3913),t.e(7417)]).then(t.bind(t,55358))},modules:["src/components/responses/post/ThreadedResponsesSidebar"],webpack:function(){return[55358]},loading:function(){return null},render:(0,r.n)("ThreadedResponsesSidebar")})},73788:(e,n,t)=>{"use strict";t.d(n,{k:()=>s});var i=t(63038),o=t.n(i),r=t(67294),a=t(49486),l=t(29577),c=t(70586),u=t(92214),s=function(e){var n=e.children,t=e.post,i=e.preload,s=void 0===i||i,d=r.useState(void 0),m=o()(d,2),f=m[0],p=m[1],v=r.useCallback((function(e){return function(n){p(n),e()}}),[]);return r.createElement(c.E,{preload:s},(function(e){var i=e.showPreviousSidebar,o=e.hasLoaded,c=e.initialSidebarRender,s=e.isVisible,d=e.continueThisThreadPosts,m=e.openSidebar,k=e.cleanupSidebar;return r.createElement(a.Q.Provider,{value:{openSidebarToRespondToHighlight:v(m)}},!!t&&o&&r.createElement(l.L,{isResponsesSidebarVisible:s&&0===d.length,parentPost:t,inResponseToQuote:f,setInResponseToQuote:p,showPreviousSidebar:i,cleanupSidebar:k,initialSidebarRender:!!c.current}),!!t&&o&&d.map((function(e,n,o){var a=(0,u.iI)(n);return r.createElement(l.L,{key:t.id,isResponsesSidebarVisible:s&&n===o.length-1,parentPost:t,inResponseToQuote:f,setInResponseToQuote:p,continueThisThreadPost:e,continueThisThreadPostDepth:a,showPreviousSidebar:i,cleanupSidebar:k,initialSidebarRender:!!c.current})})),n)}))}},72393:(e,n,t)=>{"use strict";t.d(n,{f:()=>i});var i=t(67294).createContext({addContinueThisThreadSidebar:function(){return null},openSidebar:function(){return null},closeSidebar:function(){return null}})},70586:(e,n,t)=>{"use strict";t.d(n,{E:()=>v});var i=t(319),o=t.n(i),r=t(63038),a=t.n(r),l=t(38125),c=t.n(l),u=t(67294),s=t(29577),d=t(72393),m=t(77180),f=t(27108),p=t(8403),v=function(e){var n=e.preload,t=e.children,i=u.useState(!1),r=a()(i,2),l=r[0],v=r[1],k=(0,m.F)(),g=!!(0,p.Wd)("responsesOpen"),S=u.useState(!1),b=a()(S,2),y=b[0],h=b[1],P=u.useRef(!0),T=u.useRef(0),N=u.useState(!1),_=a()(N,2),O=_[0],w=_[1],C=u.useCallback((function(){return h(!0)}),[]),E=u.useState([]),D=a()(E,2),F=D[0],I=D[1],x=u.useCallback((function(e){P.current=!1,I([].concat(o()(F),[e]))}),[F]),A=u.useCallback((function(){I(c()(F))}),[F]),j=u.useCallback((function(){h(!1),I([]),P.current=!0}),[]);u.useEffect((function(){w(!0),h(g)}),[g]);var R=function(){window.innerWidth<k.breakpoints.md&&v(!0)};return u.useEffect((function(){return R(),f.V6.on("resize",R),function(){return f.V6.off("resize",R)}}),[]),u.useEffect((function(){var e,n,t=null===(e=window)||void 0===e||null===(n=e.document)||void 0===n?void 0:n.documentElement;return l&&null!=t&&t.style&&(y?(t.style.top="-".concat(T.current,"px"),T.current=t.scrollTop,t.style.overflow="hidden",t.style.position="fixed"):(t.style.overflow="",t.style.position="",t.style.top="",t.scrollTop=T.current)),function(){l&&null!=t&&t.style&&(t.style.overflow="",t.style.position="",t.style.top="",t.scrollTop=T.current)}}),[y]),u.useEffect((function(){n&&s.L.preload()}),[n]),u.createElement(d.f.Provider,{value:{addContinueThisThreadSidebar:x,openSidebar:C,closeSidebar:j}},t({showPreviousSidebar:A,hasLoaded:O,initialSidebarRender:P,isVisible:y,continueThisThreadPosts:F,openSidebar:C,cleanupSidebar:j}))}},15699:(e,n,t)=>{"use strict";t.d(n,{o:()=>p,h:()=>v});var i=t(28655),o=t.n(i),r=t(71439),a=t(67294),l=t(93912),c=t(95760),u=t(51512),s=t(6688),d=t(19551);function m(){var e=o()(["\n  fragment PostPresentationTracker_post on Post {\n    id\n    visibility\n    previewContent {\n      isFullContent\n    }\n    collection {\n      id\n      slug\n    }\n  }\n"]);return m=function(){return e},e}var f={width:"100%",height:"100%"};function p(e){var n=e.post,t=e.presentationContext,i=e.suppressedEvents,o=e.children,r=e.isDisplayingFullPost,m=e.reportClientViewedOnFullPost,p=e.postClientViewedContext,v=e.pinned,k=e.shouldReportClientViewed,g=void 0===k||k,S=(0,s.I)(),b=(0,c.Av)(),y=(0,u.pK)(),h=a.useCallback((function(){if(n&&"ALL"!==i){var e=n.visibility,o=n.previewContent,a=n.collection,c=null!==r?r:o&&o.isFullContent;"PRESENTED"!==i&&b.event("post.clientPresented",{postId:n.id,source:y,collectionId:a?a.id:null,isFullPost:c,pinned:v,postVisibility:(0,l.z)(e),context:"POST_PREVIEW"!==t?t.toLowerCase():null}),m&&c&&"VIEWED"!==i&&g&&b.event("post.clientViewed",{postId:n.id,source:y,collectionId:a?a.id:null,collectionSlug:a?a.slug:null,context:p,isFriendLink:!1,pinned:v})}}),[n,i,t,v]),P=(0,d.g)({onPresentedFn:h});return a.createElement("div",{className:S(f),ref:P},o)}var v=(0,r.Ps)(m())},98358:(e,n,t)=>{"use strict";t.d(n,{g:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"getCatalogSlugId_Catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}},69908:(e,n,t)=>{"use strict";t.d(n,{s:()=>m});var i=t(63038),o=t.n(i),r=t(67294),a=t(41996),l=t(77180),c=t(27108),u=t(82482);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}var d=Object.values(a.j),m=function(){var e=(0,l.F)(),n=r.useCallback((function(){if("undefined"!=typeof window&&window.matchMedia){var n,t=function(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?s(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw r}}}}(d);try{for(t.s();!(n=t.n()).done;){var i=n.value;if(window.matchMedia(u[i](e).replace("@media all and ","")).matches)return i}}catch(e){t.e(e)}finally{t.f()}}}),[e]),t=r.useState((function(){return n()})),i=o()(t,2),a=i[0],m=i[1];return r.useEffect((function(){var e=function(){m(n())};return c.V6.on("resize",e),function(){return c.V6.off("resize",e)}}),[]),a}},71794:(e,n,t)=>{"use strict";t.d(n,{j7:()=>d,OO:()=>m,iI:()=>f,m3:()=>p});var i=t(28655),o=t.n(i),r=t(71439),a=t(14391),l=t(22744),c=t(50993);function u(){var e=o()(["\n  fragment shortformPostMetaDescription_post on Post {\n    id\n    metaDescription\n    seoDescription\n    shortformType\n    title\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return u=function(){return e},e}function s(){var e=o()(["\n  fragment postMetaDescription_post on Post {\n    id\n    title\n    seoDescription\n    metaDescription\n    creator {\n      id\n      name\n    }\n    collection {\n      id\n      name\n    }\n    previewContent {\n      subtitle\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return s=function(){return e},e}var d=function(e){return function(e){var n=e.metaDescription,t=e.seoDescription,i=e.title||"";if(t)return t;if(n)return n;var o=function(e){var n=(0,l.r4)(e,250);return n&&(0,c.N8)(n,200)}(e);if(o.length>150)return o;var r=e.previewContent&&e.previewContent.subtitle||"";if(r.length>140)return r;r.length>0&&(r+=".");var a=(i.length?i+". ":"")+r;if(a.length>140)return a;var u="“".concat(i,"” is published");return e.creator&&e.creator.name&&(u+=" by ".concat(e.creator.name)),e.collection&&e.collection.name&&(u+=" in ".concat(e.collection.name)),"".concat(r," ").concat(u,".")}(e).trim()},m=function(e,n){var t=e.metaDescription,i=e.seoDescription,o=e.shortformType,r=o===a.po.SHORTFORM_TYPE_NOTE||!o;if(i)return i;if(t)return t;if(r&&n){var u=(0,l.r4)(e,350,0);return(0,c.N8)(u,300)}return""},f=(0,r.Ps)(s(),l.bh),p=(0,r.Ps)(u(),l.bh)},22744:(e,n,t)=>{"use strict";t.d(n,{r4:()=>w,bh:()=>C,yB:()=>E,dm:()=>D,lO:()=>x,Bg:()=>A,_t:()=>j,bq:()=>R,oS:()=>M,Pz:()=>L,c_:()=>U,HF:()=>V});var i=t(59713),o=t.n(i),r=t(28655),a=t.n(r),l=t(71439),c=t(90584),u=t(4743),s=t(14391),d=t(398),m=t(50993);function f(){var e=a()(["\n  fragment shouldIndexPost_post on Post {\n    id\n    firstPublishedAt\n    isLimitedState\n    isShortform\n    shortformType\n    visibility\n    curationStatus\n    creator {\n      name\n      atsQualifiedAt\n      customDomainState {\n        live {\n          status\n          isSubdomain\n        }\n      }\n    }\n    collection {\n      customDomainState {\n        live {\n          status\n          isSubdomain\n        }\n      }\n      creator {\n        atsQualifiedAt\n      }\n      ptsQualifiedAt\n    }\n    noIndex\n    isIndexable\n    ...getPostContentAsString_post\n  }\n  ","\n"]);return f=function(){return e},e}function p(){var e=a()(["\n  fragment shortformPostTitle_post on Post {\n    id\n    title\n    seoTitle\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      ...maybeAppendProductName_collection\n    }\n  }\n  ","\n  ","\n  ","\n"]);return p=function(){return e},e}function v(){var e=a()(["\n  fragment getTitleForPost_post on Post {\n    id\n    title\n    ...postTitle_post\n    ...getTitleDetails_post\n  }\n  ","\n  ","\n"]);return v=function(){return e},e}function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){o()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(){var e=a()(["\n  fragment postTitle_post on Post {\n    id\n    title\n    seoTitle\n    firstPublishedAt\n    ...getPostContentAsString_post\n    ...appendPostContext_post\n    collection {\n      id\n      name\n      domain\n      ...maybeAppendProductName_collection\n    }\n    creator {\n      name\n    }\n    previewContent {\n      subtitle\n    }\n  }\n  ","\n  ","\n  ","\n"]);return S=function(){return e},e}function b(){var e=a()(["\n  fragment maybeAppendProductName_collection on Collection {\n    id\n    domain\n  }\n"]);return b=function(){return e},e}function y(){var e=a()(["\n  fragment getTitleDetails_post on Post {\n    id\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        ...GetTitleIndexMap_bodyModel\n      }\n    }\n    ...getPostContentAsString_post\n  }\n  ","\n  ","\n"]);return y=function(){return e},e}function h(){var e=a()(["\n  fragment getPostContentAsString_post on Post {\n    content(postMeteringOptions: $postMeteringOptions) {\n      bodyModel {\n        paragraphs {\n          text\n          type\n          mixtapeMetadata {\n            href\n          }\n        }\n      }\n    }\n  }\n"]);return h=function(){return e},e}function P(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(e){if("string"==typeof e)return T(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,r=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw r}}}}function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function N(){var e=a()(["\n  fragment appendPostContext_post on Post {\n    id\n    sequence {\n      title\n    }\n    collection {\n      name\n    }\n    creator {\n      name\n    }\n  }\n"]);return N=function(){return e},e}function _(e,n){var t,i,o;return null!==(t=n.sequence)&&void 0!==t&&t.title?e+=" - ".concat(n.sequence.title):null!==(i=n.collection)&&void 0!==i&&i.name?e+=" - ".concat(n.collection.name):null!==(o=n.creator)&&void 0!==o&&o.name&&(e+=" - ".concat(n.creator.name)),e}var O=(0,l.Ps)(N());function w(e){var n,t,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeMixtapeHref:!1},l=a.includeMixtapeHref,c=(null===(n=e.content)||void 0===n||null===(t=n.bodyModel)||void 0===t?void 0:t.paragraphs)||[],u="",s=P(c);try{for(s.s();!(i=s.n()).done;){var d=i.value,m=d.mixtapeMetadata,f=d.text,p=d.type;if(l&&null!=m&&m.href?u+=u?" ".concat(m.href):m.href:"P"===p&&f&&f.length>r&&(u+=u?" ".concat(f):f),u.length>o)break}}catch(e){s.e(e)}finally{s.f()}return u}var C=(0,l.Ps)(h());function E(e){var n=!1,t="";if(e.content&&e.content.bodyModel&&e.content.bodyModel.paragraphs){var i=e.content.bodyModel.paragraphs,o=(0,u.LI)(i).titleIndex;"number"==typeof o&&(t=i[o].text||"",n=!0)}return{hasTitleGraf:n,latestTitle:t}}var D=(0,l.Ps)(y(),C,u.k);function F(e,n,t){return null!=t&&t.domain?e:"".concat(e," - ").concat(n)}var I=(0,l.Ps)(b());function x(e,n){var t,i,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.seoTitle,a=e.title||"",l=(null===(t=e.previewContent)||void 0===t?void 0:t.subtitle)||"";if(r)return(0,d.p)(r,e.collection&&e.collection.name,n);if(!o)return a.length>50?a:a=F(a=_(a,e),n,e.collection);a.length<33&&l&&(l=(0,m.N8)(l,40),a+=". ".concat(l)),null!==(i=e.creator)&&void 0!==i&&i.name&&(a+=" | by ".concat(e.creator.name));var u="",s=Date.now()-5184e6;e.firstPublishedAt>=s&&(u=" | ".concat((0,c.Z)(e.firstPublishedAt,"LLL, yyyy")));var f=e.collection;return f?f.domain?a+="".concat(u," | ").concat(f.name):a+=" | ".concat(f.name).concat(u," | ").concat(n):a+="".concat(u," | ").concat(n),a}var A=(0,l.Ps)(S(),C,O,I);function j(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:E(e),i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.title||"",r=t.latestTitle||o,a=g(g({},e),{},{title:r});return x(a,n,i).trim()}var R=(0,l.Ps)(v(),A,D);function M(e,n,t){var i=e.seoTitle,o=e.title||"";return i?(0,d.p)(i,e.collection&&e.collection.name,n):o=F(o=_(o=function(e,n,t){var i=n.shortformType,o=i===s.po.SHORTFORM_TYPE_NOTE||!i;return t||(o?e=w(n,250,0):i===s.po.SHORTFORM_TYPE_LINK&&(e=w(n,250,0,{includeMixtapeHref:!0}))),(0,m.N8)(e,200)}(o,e,t),e),n,e.collection)}var L=(0,l.Ps)(p(),C,O,I);function U(e){var n,t,i,o,r=e.noIndex,a=e.collection,l=e.curationStatus,c=e.firstPublishedAt,u=e.isLimitedState,d=e.isShortform,m=e.shortformType,f=e.visibility,p=e.isIndexable,v=m===s.po.SHORTFORM_TYPE_NOTE||!m;if(r)return!1;if(!c)return!1;if("PUBLIC"!==f&&"LOCKED"!==f)return!1;if(u)return!1;if(d)if(v){if(w(e,10,0).length<=10)return!1}else if(0===w(e,10,0).length)return!1;if(p)return!0;if((null===(n=e.creator)||void 0===n?void 0:n.atsQualifiedAt)>0||a&&a.ptsQualifiedAt>0)return!0;if(l&&(l===s.Xg.CURATION_STATUS_DISTRIBUTED||l===s.Xg.CURATION_STATUS_DISTRIBUTED_AND_DISABLED))return!0;var k=["DELETED","FAILED","UNSPECIFIED"],g=null==a||null===(t=a.customDomainState)||void 0===t?void 0:t.live,S=null===(i=e.creator)||void 0===i||null===(o=i.customDomainState)||void 0===o?void 0:o.live;return!((!g||g.isSubdomain||k.includes(g.status))&&(!S||S.isSubdomain||k.includes(S.status)))}var V=(0,l.Ps)(f(),C)},398:(e,n,t)=>{"use strict";t.d(n,{N:()=>i,p:()=>o});var i=function(e){return e||"Untitled story"},o=function(e,n,t){return n?"".concat(e," | ").concat(n):t?"".concat(e," | ").concat(t):e}},76720:(e,n,t)=>{"use strict";t.d(n,{hr:()=>l,yJ:()=>c,q$:()=>u,yL:()=>s,uI:()=>d,Ui:()=>m});var i=t(319),o=t.n(i),r=t(61598),a=t(98358),l={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"authorProfileUrl_author"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Author"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]},c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bookProfileUrl_book"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Book"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]},u={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bookProfileUrl_bookEdition"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"BookEdition"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"format"}}]}}]},s={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bookReaderUrl_book"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Book"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"slug"}}]}}]},d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"publisherUrl_publisher"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Publisher"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"collectionUrl_collection"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}]}}].concat(o()(r.n.definitions),o()(r.$.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"catalogUrl_catalog"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Catalog"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"predefined"}},{kind:"FragmentSpread",name:{kind:"Name",value:"getCatalogSlugId_Catalog"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"userUrl_user"}}]}}]}}].concat(o()(a.g.definitions),o()(r.$.definitions))}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/7316.add47fdf.chunk.js.map