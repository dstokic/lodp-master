(self.webpackChunklite=self.webpackChunklite||[]).push([[2564],{33336:(e,n,t)=>{"use strict";t.d(n,{Z:()=>l});var i=t(67294);function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("g",{strokeLinecap:"round",strokeLinejoin:"round"},i.createElement("path",{d:"M17.4 7s2.64 3.56 0 6.88M15 8.56s1.6 2.38 0 4.4"})),a=i.createElement("path",{d:"M11.9 3.01a.19.19 0 0 0-.19.04L6.47 7.7H3.2c-.09 0-.21.06-.21.14v5.28c0 .08.12.3.21.3h3.14L11.72 18h.18a.17.17 0 0 0 .1-.15V3.14a.14.14 0 0 0-.1-.14z"});const l=function(e){return i.createElement("svg",r({width:21,height:21},e),o,a)}},42440:(e,n,t)=>{"use strict";t.d(n,{Z:()=>a});var i=t(67294);function r(){return(r=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var o=i.createElement("g",{fillRule:"evenodd"},i.createElement("path",{d:"M4.13 12.21a15.4 15.4 0 0 1-2.54-2.28 6.61 6.61 0 0 1-.16-.2l-.25-.3.25-.3a13.08 13.08 0 0 1 .63-.7 15.4 15.4 0 0 1 1.7-1.51C5.55 5.54 7.5 4.7 9.51 4.7c.62 0 1.28.13 1.98.37l-.8.78a4.54 4.54 0 0 0-1.18-.18c-1.76 0-3.52.76-5.18 2.02-.58.45-1.12.93-1.58 1.41-.28.3-.28.36 0 .65a14.43 14.43 0 0 0 2.08 1.77l-.71.7zm3.05 1.57a6.32 6.32 0 0 0 4.61-.11c1-.38 2.04-.98 3.1-1.72a25.27 25.27 0 0 0 2.68-2.17l.37-.35-.37-.36a23.05 23.05 0 0 0-.76-.68 25.26 25.26 0 0 0-2.28-1.73l-.72.7a24.05 24.05 0 0 1 2.37 1.77c.2.17.2.42 0 .59-.57.49-1.2.97-1.84 1.43-1.01.7-2 1.26-2.9 1.61a5.4 5.4 0 0 1-1.92.42A6.6 6.6 0 0 1 8 13l-.81.78z"}),i.createElement("path",{d:"M12.05 9.06a2.68 2.68 0 0 1-2.7 3A2.74 2.74 0 0 1 9 12l3.06-2.96zM9.72 6.79a2.83 2.83 0 0 0-.37-.02 2.68 2.68 0 0 0-2.7 3l3.07-2.98zM3.6 14.3l-.35.34.68.7.35-.34 10.4-10.08.36-.34-.68-.7-.35.34z"}));const a=function(e){return i.createElement("svg",r({width:19,height:19,viewBox:"0 0 19 19"},e),o)}},94093:(e,n,t)=>{"use strict";t.d(n,{I:()=>m});var i,r=t(59713),o=t.n(r),a=t(67294);!function(e){e.S="S",e.L="L"}(i||(i={}));var l=t(42933),s=t(98024),c=t(6688),u=t(80637),d=t(67122),m=function(e){var n=e.children,t=e.scale,r=void 0===t?i.L:t,m=e.alpha,p=void 0===m?.05:m,f=e.verticalMargins,g=void 0===f?{normal:"24px",small:"24px"}:f,v=e.horizontalMargins,h=void 0===v?{normal:"-16px",small:"-12px 0"}:v,k=(0,c.I)();return a.createElement("div",{className:k((function(e){return o()({background:(0,d.Uy)(p),borderRadius:"4px",margin:"".concat(g.normal," ").concat(h.normal),position:"relative"},u.sm(e),{margin:"".concat(g.small," ").concat(h.small)})}))},a.createElement(l.x,{display:"flex",justifyContent:"space-between",maxWidth:"740px",padding:"16px",sm:{padding:"12px"}},a.createElement(s.F,{scale:r,color:"DARKER"},n)))}},88096:(e,n,t)=>{"use strict";t.d(n,{B:()=>p});var i=t(67294),r=t(51562),o=t(76532),a=t(42933),l=t(75209),s=t(55099),c=t(98024),u=t(67297),d=t(95614),m=t(27952),p=function(e){var n,t,p,f=e.optimizelyFeature,g=e.backgroundColor,v=e.margin,h=e.padding,k=(n=(0,u.v9)((function(e){return e.config.authDomain})),t=(0,d.T)(),p=!!(0,o.H)().value,t?{buttonHref:"https://rsci.app.link/?$canonical_url=".concat(encodeURIComponent((0,m.Zp)(n))),buttonText:"Write with the app",target:"mobile",text:"Post a quick thought or a long story.\nIt's easy and free."}:p?{buttonHref:(0,m.Zp)(n),buttonText:"Write on Medium",target:"li",text:"Share your ideas with millions of readers."}:{buttonHref:(0,m.Zp)(n),buttonText:"Write on Medium",target:"lo",text:"Share your ideas with millions of readers."});return i.createElement(r.W,{featureString:f,target:"unit-".concat(k.target)},i.createElement(a.x,{textAlign:"center",padding:h||"16px",margin:v,backgroundColor:g||"NONE",borderRadius:"4px"},i.createElement(l.P,{size:"full"},i.createElement(r.W,{featureString:f,target:"text-".concat(k.target),tag:"span"},i.createElement(a.x,{display:{xs:"block",sm:"block",md:"inline-block",lg:"inline-block",xl:"inline-block"},whiteSpace:{xs:"pre-line",sm:"pre-line",md:"normal",lg:"normal",xl:"normal"}},i.createElement(c.F,{scale:"L",color:"DARKER"},k.text))),i.createElement(r.W,{featureString:f,target:"link-".concat(k.target),tag:"span"},i.createElement(a.x,{display:{xs:"block",sm:"block",md:"inline-block",lg:"inline-block",xl:"inline-block"},margin:{xs:"10px 0 0 0",sm:"10px 0 0 0",md:"0 0 0 12px",lg:"0 0 0 12px",xl:"0 0 0 12px"}},i.createElement(s.z,{href:k.buttonHref,buttonStyle:"BRAND"},k.buttonText))))))}},88703:(e,n,t)=>{"use strict";t.d(n,{gZ:()=>d,t$:()=>m,F8:()=>p,b0:()=>f});var i=t(28655),r=t.n(i),o=t(71439),a=t(67294),l=t(81474),s=t(32589);function c(){var e=r()(["\n  fragment useShowAuthorNewsletterV3Promo_post on Post {\n    id\n    collection {\n      id\n    }\n    creator {\n      ...useShowAuthorNewsletterV3Promo_user\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function u(){var e=r()(["\n  fragment useShowAuthorNewsletterV3Promo_user on User {\n    id\n    username\n    newsletterV3 {\n      id\n      showPromo\n      slug\n    }\n  }\n"]);return u=function(){return e},e}var d=function(e){var n=e.creator,t=m(n);return n?t:{value:!1}},m=function(e){var n,t,i,r=(0,s.Pd)(e),o=r.viewerEdge,c=r.loading,u=a.useRef(null),d=(0,l.T)({newsletterSlug:null==e||null===(n=e.newsletterV3)||void 0===n?void 0:n.slug,username:null==e?void 0:e.username}),m=d.viewerEdge,p=d.loading;return(i=null!==u.current?{value:u.current}:c||p?{loading:!0}:null!=e&&null!==(t=e.newsletterV3)&&void 0!==t&&t.showPromo?{value:!(!(null!=o&&o.isUser||null==m)&&m.isSubscribed)}:{value:!1}).loading||void 0===i.value||null!==u.current||(u.current=i.value),i},p=(0,o.Ps)(u()),f=(0,o.Ps)(c(),p)},68127:(e,n,t)=>{"use strict";t.d(n,{X:()=>N,c:()=>T});var i=t(63038),r=t.n(i),o=t(28655),a=t.n(o),l=t(71439),s=t(67294),c=t(12291),u=t(47875),d=t(65340),m=t(86948),p=t(21356),f=t(65922),g=t(98462),v=t(79296),h=t(42933),k=t(53910),E=t(89375),x=t(82318),S=t(80908),y=t(98024),b=t(15699),P=t(36891),_=t(27952);function w(){var e=a()(["\n  fragment PostListingItemRecirc_post on Post {\n    __typename\n    id\n    title\n    isLocked\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...PostRecircItemV2_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return w=function(){return e},e}var N=(0,l.Ps)(w(),u.H,b.h,m.z,p.x,d.D),C=function(e){var n=e.height,t=e.width;return{paddingBottom:"".concat(n/t*100,"%"),position:"relative"}},F={height:"100%",position:"absolute",width:"100%"},I=function(e){var n=e.title,t=e.url;return s.createElement(g.P,{href:t},s.createElement(S.Dx,{scale:"S",tag:"h3"},n))},T=(0,c.$j)((function(e){return{productName:e.config.productName}}))((function(e){var n,t,i=e.post,o=e.productName,a=e.target,l=s.useState(!1),c=r()(l,2),d=c[0],g=c[1],S=s.useCallback((function(e){!d&&e.isIntersecting&&g(!0)}),[d]);if((0,P.S)({onIntersect:S,target:a,disconnect:function(){return d},rootMargin:"100px"},[d]),"SuggestedPost"===i.__typename?(n=function(e,n){var t,i,r,o;switch(e&&e[0]&&e[0].reason){case"TOP_SIMILAR_TO_POST":case"CF_POST_SIMILAR_TO_POST":return"Related reads";case"TOP_IN_TOPIC":return o=e[0].topics?e[0].topics[0].name:"topic","Popular in ".concat(o);case"POSTS_SHARING_AUTHOR":return t=e[0].users?e[0].users[0].name:"author","More from ".concat(t);case"POSTS_SHARING_TAGS":return(r=e[0].tags&&e[0].tags[0].name)?"Also tagged ".concat(r):"";case"TOP_IN_COLLECTION":return i=e[0].collections?e[0].collections[0].name:"publication","More from ".concat(i);case"TOP_FOR_THE_DAY_GLOBALLY":return"Top on ".concat(n);case"POSTS_SHARING_COLLECTION_AND_TAGS":return r=e[0].tags&&e[0].tags[0].name,i=e[0].collections?e[0].collections[0].name:"publication",r?"More on ".concat(r," from ").concat(i):"";case"RECOMMENDED_BY_AUTHOR":return(t=e[0].users&&e[0].users[0].name)?"Applause from ".concat(t):"";case"TOP_FOR_THE_DAY":return"Trending on ".concat(n);default:return"Picked for you"}}(i.postSuggestionReasons,o),t=i.post):t=i,!t)return null;var w,N,T,L,M,O,R,A=(w={id:(t.previewImage?t.previewImage.id:"")||"1*hn4v1tCaJy7cWMyb0bpNpQ.png",width:328,height:218,focusPercentX:t.previewImage?t.previewImage.focusPercentX:null,focusPercentY:t.previewImage?t.previewImage.focusPercentY:null},L=w.width,M=w.height,O=w.focusPercentX,R=w.focusPercentY,(T=w.id)?(N="number"==typeof O&&"number"==typeof R?[O,R]:[50,50],s.createElement(v.h,null,(function(e){return s.createElement("div",{className:e(C({height:M,width:L}))},s.createElement("div",{className:e(F)},s.createElement(f.B,{miroId:T,imgHeight:M,imgWidth:L,width:"100%",height:"100%",freezeGifs:!1,focusPercent:N})))}))):null);return s.createElement(b.o,{post:t,presentationContext:"PLACEMENT"},s.createElement(h.x,{md:{marginBottom:"48px"}},s.createElement(k.T,{alignItems:{xs:"flex-start",sm:"center",md:"center",lg:"flex-start",xl:"flex-start"},direction:{xs:"row",sm:"row-reverse",md:"row-reverse",lg:"row",xl:"row"}},s.createElement(E.P,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},n&&s.createElement(h.x,{marginBottom:"12px",md:{display:"none"},xs:{display:"block"}},s.createElement(y.F,{scale:"M",tag:"h4"},n)),A&&s.createElement(h.x,{marginBottom:"16px",md:{marginBottom:"0px"},xs:{marginBottom:"16px"}},s.createElement(x.r,{display:"block",href:(0,_.jVf)(t)},d?A:null))),s.createElement(E.P,{size:{xs:12,sm:6,md:6,lg:12,xl:12}},s.createElement(h.x,{marginBottom:"16px"},n&&s.createElement(h.x,{display:"none",marginBottom:"4px",md:{display:"block"},xs:{display:"none"}},s.createElement(y.F,{scale:"M",tag:"h4"},n)),s.createElement(I,{title:t.title?t.title:"",url:(0,_.jVf)(t)})),s.createElement(h.x,{display:"flex",alignItems:"center",justifyContent:"space-between"},s.createElement(h.x,{flexShrink:"1",marginRight:"10px"},s.createElement(u.G,{post:t,showBio:!1,scale:"S",showStar:!!t.isLocked,hideAvatar:!d})),s.createElement(h.x,{display:"flex",alignItems:"center"},s.createElement(p.S,{post:t,buttonStyle:"SUBTLE",susiEntry:"clap_preview"}),s.createElement(h.x,{borderRight:"BASE_LIGHTER",marginLeft:"12px",marginRight:"10px",height:"20px",width:"1px"}),s.createElement(m.e,{post:t,susiEntry:"bookmark_preview"})))))))}))},47875:(e,n,t)=>{"use strict";t.d(n,{H:()=>W,G:()=>G});var i=t(28655),r=t.n(i),o=t(34575),a=t.n(o),l=t(93913),s=t.n(l),c=t(2205),u=t.n(c),d=t(78585),m=t.n(d),p=t(29754),f=t.n(p),g=t(59713),v=t.n(g),h=t(71439),k=t(67294),E=t(12291),x=t(95482),S=t(62182),y=t(49925),b=t(9292),P=t(10697),_=t(98281),w=t(16831),N=t(31001),C=t(57612),F=t(79296),I=t(41707),T=t(82318),L=t(42933),M=t(98024),O=t(80637),R=t(7650),A=t(42440),B=t(27390),D=t(27952),U=t(61598);function H(){var e=r()(["\n  fragment PostByline_post on Post {\n    id\n    isPublished\n    firstPublishedAt\n    readingTime\n    statusForCollection\n    isLocked\n    visibility\n    mediumUrl\n    collection {\n      name\n      id\n      ...auroraHooks_publisher\n      ...PostSidebar_collection\n      ...collectionUrl_collection\n    }\n    creator {\n      id\n      name\n      username\n      bio\n      ...UserAvatar_user\n      ...UserFollowButton_user\n      ...UserSubscribeButton_user\n      ...userUrl_user\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return H=function(){return e},e}var V={XS:{showFollowButton:!1,avatarScale:"XS"},S:{showFollowButton:!1,avatarScale:"S"},M:{showFollowButton:!0,avatarScale:"M"}},j=function(e,n){return v()({marginBottom:e?"2px":"0px",display:"flex",alignItems:"center"},O.xs(n),{marginBottom:"0px"})},z=function(e){u()(r,e);var n,t,i=(n=r,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,i=f()(n);if(t){var r=f()(this).constructor;e=Reflect.construct(i,arguments,r)}else e=i.apply(this,arguments);return m()(this,e)});function r(){return a()(this,r),i.apply(this,arguments)}return s()(r,[{key:"render",value:function(){var e=this.props,n=e.authDomain,t=e.currentLocation,i=e.post,r=e.showBio,o=e.scale,a=void 0===o?"M":o,l=e.detailScale,s=void 0===l?"M":l,c=e.showStar,u=void 0===c?i.isLocked:c,d=e.hideCollection,m=void 0!==d&&d,p=e.hideAvatar,f=void 0!==p&&p,g=e.hideDescription,v=void 0!==g&&g,h=e.noClamp,E=void 0!==h&&h,S=i.id,y=i.creator,w=i.collection,N=i.statusForCollection,C=i.visibility,O=i.isPublished,U=V[a];if(!i||!S||!y)return null;var H=i.firstPublishedAt,z=y.username,W=y.name;if(!W||!z)return null;var G=k.createElement(_.Yt,{user:y,scale:U.avatarScale,link:!0}),X=r?k.createElement("div",null,y.bio):null,$="APPROVED"===N,Y=U.showFollowButton?k.createElement(L.x,{marginLeft:"8px",display:"flex"},k.createElement(P.N,{creator:y,followButtonSize:"COMPACT",post:i,susiEntry:"follow_byline",showMembershipUpsellModal:!!i.collection,isSubscribeCompact:!0})):null,K=k.createElement(F.h,null,(function(e){return k.createElement(I.Z,null,(function(i){return k.createElement("div",{className:e(j(U.showFollowButton,i))},k.createElement(M.F,{scale:s,tag:"span",color:"DARKER",clamp:E?void 0:1},k.createElement(T.r,{href:(0,D.AWr)(y,n),inline:!0},W),w&&$&&!m?k.createElement("span",null," ","in"," ",k.createElement(T.r,{href:(0,D.WGd)(w,t,n),inline:!0},w.name)):null),Y)}))})),Z=k.createElement(M.F,{scale:s,tag:"span",clamp:1},X,k.createElement("div",null,O?k.createElement(T.r,{href:(0,D.jVf)(i),inline:!0},H&&k.createElement(x.E,{timestamp:H})):k.createElement("span",null,"Draft")," ","·"," ","UNLISTED"===C?k.createElement(M.F,{scale:"S",tag:"span"},k.createElement(A.Z,null)," Unlisted"):k.createElement(k.Fragment,null,(0,B.Vd)(i.readingTime||0)," min read"),u&&k.createElement("span",{style:{paddingLeft:"4px"}},k.createElement(R.Z,{style:{marginTop:"-2px"}}))));return k.createElement(b.Y,{avatar:!f&&G,title:K,description:!v&&Z})}}]),r}(k.Component),W=(0,h.Ps)(H(),U.n,y.C5,w.W,N.sj,U.$,S.PostSidebar_collection,C.w),G=(0,E.$j)((function(e){return{currentLocation:e.navigation.currentLocation,authDomain:e.config.authDomain}}))(z)},12653:(e,n,t)=>{"use strict";t.d(n,{X:()=>f,Z:()=>p});var i=t(319),r=t.n(i),o=t(72350),a={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"FragmentSpread",name:{kind:"Name",value:"useShouldShowEntityDrivenSubscription_creator"}}]}}].concat(r()(o.G.definitions))},l=t(956),s=t(14894),c={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"LIHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(r()(s.H.definitions))},u=t(91547),d={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"lockedSource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LIHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"LOHighlightMeter_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"SusiContainer_post"}}]}}].concat(r()(c.definitions),r()([{kind:"FragmentDefinition",name:{kind:"Name",value:"LOHighlightMeter_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),r()(u.qt.definitions))},m={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AudioPlayback_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"audioVersionUrl"}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"postMeteringOptions"},value:{kind:"Variable",name:{kind:"Name",value:"postMeteringOptions"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isLockedPreviewOnly"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"UpsellClickable_post"}}]}}].concat(r()(s.H.definitions))},p={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EntityDrivenSubscriptionCallToAction_creator"}}]}},{kind:"Field",name:{kind:"Name",value:"firstPublishedAt"}},{kind:"Field",name:{kind:"Name",value:"inResponseToPostResult"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PostResult"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToPostPreview_postResult"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"isLocked"}},{kind:"Field",name:{kind:"Name",value:"isNewsletter"}},{kind:"Field",name:{kind:"Name",value:"layerCake"}},{kind:"Field",name:{kind:"Name",value:"tags"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"InResponseToPostPreview_mediaResource"}},{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"PostNoteMissingNotification_post"}},{kind:"FragmentSpread",name:{kind:"Name",value:"AudioPlayback_post"}}]}}].concat(r()([{kind:"FragmentDefinition",name:{kind:"Name",value:"NewsletterV3PostHeaderCTA_collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"domain"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"newsletterV3"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]),r()(a.definitions),r()(l.z.definitions),r()(l.K.definitions),r()(d.definitions),r()([{kind:"FragmentDefinition",name:{kind:"Name",value:"PostNoteMissingNotification_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]),r()(m.definitions))},f={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PostHeader_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MeterController_meteringInfo"}}]}}].concat(r()([{kind:"FragmentDefinition",name:{kind:"Name",value:"MeterController_meteringInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MeteringInfo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIds"}},{kind:"Field",name:{kind:"Name",value:"maxUnlockCount"}}]}}]))}},55253:(e,n,t)=>{"use strict";t.d(n,{m:()=>Ae});var i=t(67294),r=t(28655),o=t.n(r),a=t(63038),l=t.n(a),s=t(59713),c=t.n(s),u=t(71439),d=t(42933),m=t(98024),p=t(6688),f=t(99701),g={"0%":{visibility:"hidden"},"1%":{visibility:"visible",opacity:0},"100%":{opacity:1}},v={"0%":{opacity:1,visibility:"visible"},"99%":{opacity:0},"100%":{visibility:"hidden"}},h=function(e){return{display:"flex",justifyContent:"flex-start",alignItems:"center",flexGrow:1,height:"2px",cursor:"pointer",":focus":{outline:"1px dotted ".concat(e.baseColor.fill.normal)}}},k=function(e){return{backgroundColor:e.baseColor.fill.normal,position:"relative",marginLeft:"-5px",height:"10px",width:"10px",borderRadius:"50%",cursor:"pointer"}};function E(e){var n=~~(e%60);return[~~(e/60),n<10?"0"+n:n].join(":")}var x=function(e){var n=e.duration,t=e.elapsed,r=e.isProgressBeanVisible,o=e.onEnter,a=e.onLeave,l=e.onProgressBeanAnimationEnd,s=e.onTimeUpdate,c=e.shouldProgressBeanAnimate,u=(0,p.I)(),x=(0,f.o)({fadeInKeyframesName:g,fadeOutKeyframesName:v}),S=x.fadeInKeyframesName,y=x.fadeOutKeyframesName,b=i.useRef(null),P=t&&n?Math.max(0,Math.min(t/n*100,100)):0,_={left:"".concat(P,"%"),opacity:r?1:0},w=i.useCallback((function(e){var t=e.pageX,i=document.getElementById("audio-player-progress-bar"),r=t-(i.getBoundingClientRect().left+window.scrollX);return n/i.offsetWidth*r}),[n]),N=i.useCallback((function(e){function n(e){s(w(e))}0===e.button&&(s(w(e)),document.addEventListener("mousemove",n),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",e)})))}),[w,a,s]),C=i.useCallback((function(e){"ArrowLeft"===e.key?s(Math.max(t-5,0)):"ArrowRight"===e.key&&s(Math.min(t+5,n))}),[t,n,s]),F=i.useCallback((function(){document.activeElement!==b.current&&a()}),[null==b?void 0:b.current,a]),I=[k,_];return c&&I.push({animation:"".concat(r?S:y," .2s ease-in-out forwards")}),i.createElement(d.x,{display:"flex",alignItems:"center"},i.createElement(d.x,{width:"28px",marginRight:"12px",textAlign:"left"},i.createElement(m.F,{scale:"M"},t?E(t):"--:--")),i.createElement("div",{className:u([h,function(e){return{background:"linear-gradient(to right, ".concat(e.baseColor.fill.normal," ").concat(P,"%, ").concat(e.baseColor.background.normal," 0)")}}]),id:"audio-player-progress-bar",role:"slider",ref:b,"aria-valuemin":0,"aria-valuemax":n,"aria-valuenow":t,tabIndex:0,onMouseDown:N,onFocus:o,onBlur:F,onKeyDown:C,onMouseEnter:o,onMouseLeave:F},i.createElement("div",{className:u(I),onAnimationEnd:l})),i.createElement(d.x,{width:"28px",marginLeft:"12px",textAlign:"right"},i.createElement(m.F,{scale:"M"},n?E(n):"--:--")))},S=t(95760);function y(){return(y=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var b=i.createElement("g",{transform:"translate(5 4)",fillRule:"evenodd"},i.createElement("rect",{width:6,height:17,rx:2}),i.createElement("rect",{x:9,width:6,height:17,rx:2}));const P=function(e){return i.createElement("svg",y({width:25,height:25},e),b)};function _(){return(_=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}).apply(this,arguments)}var w=i.createElement("path",{d:"M7 4v17.03a.5.5 0 0 0 .8.4l11.1-8.1a1 1 0 0 0 0-1.62L7.8 3.6A.5.5 0 0 0 7 4z"});const N=function(e){return i.createElement("svg",_({width:25,height:25},e),w)};var C=function(e){return{borderRadius:"4px",padding:"8px",borderWidth:"1px",borderStyle:"solid",boxSizing:"border-box",display:"inline-block",textDecoration:"none",color:e.baseColor.text.normal,fill:e.baseColor.fill.normal,background:0,borderColor:e.baseColor.border.dark,":hover":{cursor:"pointer",color:e.baseColor.text.darker,fill:e.baseColor.fill.darker,borderColor:e.baseColor.border.darker}}},F=function(e){var n=e.dispatch,t=e.postId,r=e.isPlaying,o=(0,p.I)(),a=(0,S.Av)(),l=i.useCallback((function(){var e=document.getElementById("audio-player");r?(a.event("audio.end",{postId:t}),e.pause(),n({type:"pause"})):(a.event("audio.start",{postId:t}),e.play(),n({type:"play"}))}),[r]);return i.createElement("button",{onClick:l,className:o(C)},r?i.createElement(P,null):i.createElement(N,null))},I=t(89423),T=t(62876),L=t(54389),M=t(51512),O=t(96907),R=t(33336);function A(){var e=o()(["\n  fragment AudioPlayback_post on Post {\n    id\n    audioVersionUrl\n    content(postMeteringOptions: $postMeteringOptions) {\n      isLockedPreviewOnly\n    }\n    ...UpsellClickable_post\n  }\n  ","\n"]);return A=function(){return e},e}function B(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?B(Object(t),!0).forEach((function(n){c()(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):B(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var U={duration:0,elapsed:0,playing:!1},H=function(e,n){switch(n.type){case"load":return D(D({},e),{},{duration:n.duration});case"play":return D(D({},e),{},{playing:!0});case"pause":return D(D({},e),{},{playing:!1});case"seek":return D(D({},e),{},{elapsed:n.clickedTime});case"progress":return D(D({},e),{},{elapsed:n.elapsed});case"end":return D(D({},e),{},{playing:!1});default:return e}},V=function(e){var n=e.postId,t=e.audioVersionUrl,r=i.useReducer(H,U),o=l()(r,2),a=o[0],s=o[1],c=a.duration,u=a.elapsed,p=a.playing,f=i.useState(!1),g=l()(f,2),v=g[0],h=g[1],k=i.useState(!1),E=l()(k,2),S=E[0],y=E[1],b=i.useCallback((function(){h((function(e){return y(!!e),!1}))}),[]),P=i.useCallback((function(){h((function(e){return y(!e),!0}))}),[]);return i.useEffect((function(){var e=document.getElementById("audio-player");function n(){s({type:"load",duration:e.duration})}function t(){s({type:"progress",elapsed:e.currentTime})}function i(){s({type:"end"})}return e.addEventListener("canplay",n),e.addEventListener("timeupdate",t),e.addEventListener("ended",i),function(){e.removeEventListener("canplay",n),e.removeEventListener("timeupdate",t),e.removeEventListener("ended",i)}}),[]),i.useEffect((function(){var e=document.getElementById("audio-player");Math.round(u)!==Math.round(e.currentTime)&&document.hasFocus()&&(e.currentTime=u)}),[u]),i.createElement(d.x,{display:"flex",justifyContent:"center",margin:"20px 0"},i.createElement("audio",{id:"audio-player"},i.createElement("source",{src:t})),i.createElement(d.x,{display:"flex",alignItems:"center",flexGrow:"1"},i.createElement(d.x,{marginRight:"16px"},i.createElement(F,{dispatch:s,postId:n,isPlaying:p})),i.createElement(d.x,{display:"flex",flexDirection:"column",flexGrow:"1"},i.createElement(m.F,{scale:"M",color:"DARKER"},"Listen to this story"),i.createElement(x,{elapsed:u,duration:c,isProgressBeanVisible:v,onEnter:P,onLeave:b,onProgressBeanAnimationEnd:function(){return y(!1)},onTimeUpdate:function(e){return s({type:"seek",clickedTime:Math.max(0,Math.min(e,c))})},shouldProgressBeanAnimate:S}))))},j=function(e){return{fill:e.baseColor.fill.light,marginLeft:"15px",marginRight:"15px"}},z=function(e){var n=e.post,t=(0,p.I)();return i.createElement(L.M,{columns:8,display:"flex",flexShrink:"0",margin:"30px 0",padding:"20px 12px",backgroundColor:"BASE_LIGHT"},i.createElement(R.Z,{className:t(j)}),i.createElement(m.F,{scale:"S",color:"DARKER",tag:"span"},"Psst... there’s an audio version of this story."," ",i.createElement(T.a,{post:n,linkStyle:"OBVIOUS"},"Upgrade to listen")))};function W(e){var n=e.post,t=n.id,r=n.audioVersionUrl,o=(n.content||{}).isLockedPreviewOnly;return i.createElement(d.x,{marginTop:"30px"},i.createElement(I.I,null,(function(e){return e&&e.mediumMemberAt||!o?i.createElement(V,{postId:t,audioVersionUrl:r}):i.createElement(M.cW,{source:{dimension:"audio_exclusive",name:"upgrade_membership",postId:t}},i.createElement(O.M,null,i.createElement(z,{post:n})))})))}(0,u.Ps)(A(),T.H);var G=t(50008),X=t.n(G),$=t(12291),Y=t(23450),K=t.n(Y),Z=t(94093),q=t(51562),Q=function(e){var n=e.featureString,t=e.link,r=e.text,o=e.showTrialMeter;return i.createElement(q.W,{featureString:n,target:o?"cc-trial-highlight-box":"highlight-box"},i.createElement(Z.I,null,i.createElement(q.W,{featureString:n,target:o?"cc-trial-copy":"copy",tag:"span"},r," "),i.createElement(d.x,{display:"inline",whiteSpace:"nowrap"},i.createElement(q.W,{featureString:n,target:o?"cc-trial-link":"link",tag:"span"},t))))},J=t(66893),ee=t(76532),ne=t(5731),te=t(67297),ie=t(27952);function re(){var e=o()(["\n  fragment LIHighlightMeter_post on Post {\n    id\n    ...UpsellClickable_post\n  }\n  ","\n"]);return re=function(){return e},e}var oe=function(e){var n=e.meterCount,t=e.meterLimit,r=e.post,o=(0,ee.H)().value,a=(0,S.Av)(),l=null==o?void 0:o.isMembershipTrialEligible,s=!(!(0,J.P5)("enable_trial_upsell")||!l),c="li-highlight-meter-".concat(n);i.useEffect((function(){a.event("meter.viewed",{uiType:ne.j.LIHighlightCTA,postId:r.id,meterCount:n,userId:null==o?void 0:o.id}),l&&a.event("experiment.eligible",{experimentId:"6797776ba4cf"})}),[]);var u,d=(0,te.v9)((function(e){return e.config.authDomain})),m=i.createElement(O.M,{tag:"span"},i.createElement(T.a,{linkStyle:"OBVIOUS",post:r,inline:!0,redirectUrl:(0,ie.c5p)(d)},s?"Start your free trial":"Upgrade for unlimited access."));return i.createElement(M.cW,{source:{dimension:"post_counter",name:"upgrade_membership",postId:r.id}},i.createElement(Q,{featureString:c,text:(u=t-n,u<=0?i.createElement(i.Fragment,null,"This is your ",i.createElement("b",null,"last")," free member-only story this month."):i.createElement(i.Fragment,null,"You have ",i.createElement("b",null,u)," free member-only ",K()("story",u)," left this month.")),link:m,showTrialMeter:s}))},ae=(0,u.Ps)(re(),T.H),le=t(62181);function se(){var e=o()(["\n  fragment LOHighlightMeter_post on Post {\n    id\n  }\n"]);return se=function(){return e},e}var ce=function(e){switch(e){case 1:return i.createElement(i.Fragment,null,"You have ",i.createElement("b",null,"2")," free member-only stories left this month.");case 2:return i.createElement(i.Fragment,null,"You have ",i.createElement("b",null,"1")," free member-only story left this month.");case 3:return i.createElement(i.Fragment,null,"This is your ",i.createElement("b",null,"last")," free member-only story this month.");default:return i.createElement(i.Fragment,null,"You've read all your free member-only stories this month.")}},ue=function(e){var n=e.meterCount,t=e.post,r=(0,te.v9)((function(e){return e.config.productName})),o=function(e){switch(e){case 3:return"metered_view_3";case 2:return"metered_view_2";case 1:default:return"smart_meter"}}(n),a=(0,S.Av)(),l="lo-highlight-meter-".concat(n);i.useEffect((function(){a.event("meter.viewed",{uiType:ne.j.LOHighlightCTA,postId:t.id,meterCount:n})}),[]);var s=i.createElement(le.R9,{linkStyle:"OBVIOUS",inline:!0,operation:"register",susiEntry:o},"Sign up for ".concat(r," and get an extra one"));return i.createElement(M.cW,{source:{postId:t.id}},i.createElement(Q,{featureString:l,text:ce(n),link:s,showTrialMeter:!1}))},de=(0,u.Ps)(se()),me=t(49544),pe=t(7785),fe=t(11348),ge=t(31235),ve=t(172);function he(){var e=o()(["\n  fragment MeterController_meteringInfo on MeteringInfo {\n    postIds\n    maxUnlockCount\n  }\n"]);return he=function(){return e},e}function ke(){var e=o()(["\n  fragment MeterController_post on Post {\n    creator {\n      id\n    }\n    isLocked\n    lockedSource\n    ...LIHighlightMeter_post\n    ...LOHighlightMeter_post\n    ...SusiContainer_post\n  }\n  ","\n  ","\n  ","\n"]);return ke=function(){return e},e}var Ee=function(e){var n=e.meteringInfo,t=e.post,r=e.viewer,o=i.useState(!1),a=l()(o,2),s=a[0],c=a[1],u=n.maxUnlockCount||3,d=n.postIds.length;return d<=u?(0,fe.sy)()&&(0,me.Dk)(r)?((0,fe.Of)(),null):(s||c(!0),i.createElement(oe,{meterCount:d,post:t,meterLimit:u})):null},xe=function(e){var n=e.meterCount,t=e.post,r=i.useState(!1),o=l()(r,2),a=o[0],s=o[1];switch(n){case 1:case 2:case 3:return a||s(!0),i.createElement(ue,{meterCount:n,post:t});default:return null}},Se=function(e){var n=e.meteringInfo,t=e.post,r=(0,$.I0)(),o=(0,p.I)(),a=(0,ge.xg)(),s=i.useState(!1),c=l()(s,2),u=c[0],d=c[1];i.useEffect((function(){void 0!==("undefined"==typeof document?"undefined":X()(document))&&d(!0),r((0,ve.Dl)(!1))}),[]);var m=(0,ee.H)(),f=m.loading,g=m.error,v=m.value;if(f||g)return i.createElement(i.Fragment,null);var h=v&&v.mediumMemberAt||void 0,k=t&&t.creator&&t.creator.id||void 0,E=v&&v.id||void 0,x=v?h||k===E:"LOCKED_POST_SOURCE_SYNDICATED"===t.lockedSource,S=!u||!t.isLocked||!n.postIds.includes(t.id)||x,y=u&&!S,b={height:y?"80px":"0px",overflow:y?"inherit":"hidden",transition:"height 2s cubic-bezier(0.23, 1, 0.32, 1) 0s"},P=v?i.createElement(Ee,{meteringInfo:n,post:t,viewer:v}):i.createElement(xe,{meterCount:n.postIds.length,post:t});return i.createElement("div",{className:a?o(b):void 0},!S&&P)},ye=((0,u.Ps)(ke(),ae,de,pe.qt),(0,u.Ps)(he()),t(82318));function be(){var e=o()(["\n  fragment NewsletterV3PostHeaderCTA_collection on Collection {\n    id\n    domain\n    slug\n    name\n    newsletterV3 {\n      id\n      slug\n      name\n    }\n  }\n"]);return be=function(){return e},e}(0,u.Ps)(be());var Pe=function(e){var n=e.collection,t=(0,te.v9)((function(e){return e.config.authDomain})),r=n.newsletterV3||{id:"",slug:"",name:""},o=(0,ie.iBn)(r.slug,t,n),a=function(){return i.createElement(ye.r,{inline:!0,linkStyle:"OBVIOUS",href:o},r.name)};return i.createElement(i.Fragment,null,i.createElement(Z.I,null,n.newsletterV3?i.createElement(i.Fragment,null,"This is an email from ",i.createElement(a,null),", a newsletter by ",n.name,"."):i.createElement(i.Fragment,null,"This is an email from ",n.name,".")))},_e=t(46829),we=t(59635),Ne=t(3149),Ce=t(51064),Fe=function(e){var n=e.children,t=e.onHide,r=void 0===t?function(){}:t,o=(0,Ce.O)(!0),a=l()(o,3),s=a[0],c=a[2],u=i.useCallback((function(){c(),r()}),[r]);return s?i.createElement(d.x,{border:"BASE_LIGHT",borderRadius:"4px",padding:"16px 8px 16px 28px",display:"flex",justifyContent:"space-between",alignItems:"center"},i.createElement(m.F,{scale:"L",color:"DARKER"},n),i.createElement(Ne.P,{onClick:u,isPositionAbsolute:!1,size:"REGULAR"})):null},Ie=t(8403),Te=t(11642);function Le(){var e=o()(["\n  query PostNoteMissingNotificationQuery($postId: ID!, $postMeteringOptions: PostMeteringOptions) {\n    post(id: $postId) {\n      id\n      privateNotes {\n        id\n      }\n      content(postMeteringOptions: $postMeteringOptions) {\n        bodyModel {\n          paragraphs {\n            name\n          }\n        }\n      }\n    }\n  }\n"]);return Le=function(){return e},e}function Me(){var e=o()(["\n  fragment PostNoteMissingNotification_post on Post {\n    id\n  }\n"]);return Me=function(){return e},e}var Oe=function(e){var n,t,r,o,a,s=e.post,c=(0,te.v9)((function(e){return e.navigation.referrer})),u=(0,we.I)().hash,m=(0,Ie.G1)(),p=(0,Ie.PM)(),f=(0,_e.useLazyQuery)(Re,{variables:{postId:null==s?void 0:s.id,postMeteringOptions:{referrer:c,sk:m,source:p}},ssr:!1}),g=l()(f,2),v=g[0],h=g[1],k=h.called,E=h.loading,x=h.error,S=h.data,y=null==u||null===(n=u.replace("#",""))||void 0===n?void 0:n.split("-"),b=l()(y,2),P=b[0],_=b[1],w=(null!=S?S:{}).post,N=null==w||null===(t=w.privateNotes)||void 0===t?void 0:t.find((function(e){return(null==e?void 0:e.id)===_})),C=null!==(r=null==w||null===(o=w.content)||void 0===o||null===(a=o.bodyModel)||void 0===a?void 0:a.paragraphs)&&void 0!==r?r:[],F=new Set(C.map((function(e){return e.name})).filter(Te.b)),I=!!N&&F.has(P),T=(0,Ce.O)(!!_&&!I),L=l()(T,3),M=L[0],O=L[1],R=L[2];return i.useEffect((function(){_&&!I?O():R()}),[I]),!k&&_&&v(),E||x||!M?null:i.createElement(d.x,{marginTop:"64px"},i.createElement(Fe,{onHide:R},"The note you're looking for was deleted"))},Re=((0,u.Ps)(Me()),(0,u.Ps)(Le())),Ae=function(e){var n=e.meteringInfo,t=e.post,r=(0,te.p9)((function(e){return e.config.isAmp}));return i.createElement(L.M,{columns:8},i.createElement(Oe,{post:t}),t.isNewsletter&&!!t.collection&&i.createElement(Pe,{collection:t.collection}),!!t.isLocked&&!!n&&i.createElement(Se,{meteringInfo:n,post:t}),t.audioVersionUrl&&!r&&i.createElement(W,{post:t}))}},56164:(e,n,t)=>{"use strict";t.d(n,{h:()=>C,Y:()=>F});var i=t(67154),r=t.n(i),o=t(63038),a=t.n(o),l=t(28655),s=t.n(l),c=t(71439),u=t(67294),d=t(88096),m=t(54741),p=t(53912),f=t(60311),g=t(50077),v=t(53976),h=t(51512),k=t(36891),E=t(27108);function x(){var e=s()(["\n  fragment PostNextFiveStories_post on Post {\n    firstPublishedAt\n    pinnedAt\n  }\n"]);return x=function(){return e},e}function S(){var e=s()(["\n  query PostNextFiveStoriesUser($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: user(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return S=function(){return e},e}function y(){var e=s()(["\n  query PostNextFiveStoriesCollection($id: ID!, $from: String, $limit: PaginationLimit = 5) {\n    publisher: collection(id: $id) {\n      ...PostNextFiveStories_Publisher\n    }\n  }\n  ","\n"]);return y=function(){return e},e}function b(){var e=s()(["\n  fragment PostNextFiveStories_Publisher on Publisher {\n    __typename\n    id\n    homepagePostsConnection(paging: {limit: $limit, from: $from}) {\n      posts {\n        ...ExpandablePost_post\n      }\n    }\n    ...CardByline_publisher\n  }\n  ","\n  ","\n"]);return b=function(){return e},e}var P=(0,c.Ps)(b(),g.Gk,f.bj),_=(0,c.Ps)(y(),P),w=(0,c.Ps)(S(),P),N=function(e){var n,t,i,o=e.post,l=e.rootMargin,s=e.target,c=!!(0,v.VB)({name:"enable_post_page_write_cta",placeholder:!1}),f=(null===(n=o.collection)||void 0===n?void 0:n.id)||"",g=(null===(t=o.creator)||void 0===t?void 0:t.id)||"",E=f||g,x=function(e){var n=e.firstPublishedAt,t=e.pinnedAt;return e.collection?t?"P".concat(t):"L".concat(n):"".concat(n)}(o),S=f?_:w,y={id:E,from:x},b=(0,m.N)(S,{variables:y}),P=a()(b,2),N=P[0],C=P[1],F=C.called,I=C.loading,T=C.error,L=C.data,M=(L=void 0===L?{publisher:void 0}:L).publisher;if((0,k.S)({onIntersect:N,target:s,disconnect:function(){return F},rootMargin:l},[F]),!F||I||T||!M)return null;var O=null==M||null===(i=M.homepagePostsConnection)||void 0===i?void 0:i.posts;if(!M||!O)return null;var R="Collection"===M.__typename,A=c&&O.length>=2;return u.createElement(u.Fragment,null,O.map((function(e,n){var t={publisher:M,post:e,hideAuthor:!R,isFirst:0===n,includeBottomDivider:A&&0===n||n===O.length-1,index:n,excludeMargin:A&&1===n},i=A&&1===n?u.createElement(h.cW,{source:{name:"post-page-footer-cta-write"}},u.createElement(d.B,{optimizelyFeature:"post-start-writing",padding:"20px"})):u.createElement(u.Fragment,null);return u.createElement("span",{key:e.id},i,u.createElement(p.m,r()({},t,{showBylinePublisherInfo:!0})))})))},C=function(e){var n=e.post,t=e.rootMargin,i=e.target,r=u.useState(!1),o=a()(r,2),l=o[0],s=o[1];return l||E.V6.on("load",(function(){return s(!0)})),l?u.createElement(N,{post:n,target:i,rootMargin:t}):null},F=(0,c.Ps)(x())},65340:(e,n,t)=>{"use strict";t.d(n,{D:()=>x,d:()=>S});var i=t(67154),r=t.n(i),o=t(28655),a=t.n(o),l=t(71439),s=t(67294),c=t(12291),u=t(47875),d=t(61889),m=t(42933),p=t(98462),f=t(82318),g=t(37278),v=t(15699),h=t(90038),k=t(27952);function E(){var e=a()(["\n  fragment PostRecircItemV2_post on Post {\n    __typename\n    id\n    title\n    mediumUrl\n    previewImage {\n      id\n      focusPercentX\n      focusPercentY\n    }\n    ...PostByline_post\n    ...PostPresentationTracker_post\n  }\n  ","\n  ","\n"]);return E=function(){return e},e}var x=(0,l.Ps)(E(),u.H,v.h),S=(0,c.$j)((function(e){return{defaultImages:e.config.defaultImages}}))((function(e){var n,t=e.post,i=e.defaultImages,o="SuggestedPost"===t.__typename?null==t?void 0:t.post:t;if(!o)return null;var a,l,c,E,x=o.title,S=o.previewImage,y=null==i||null===(n=i.postPreviewImage)||void 0===n?void 0:n.imageId,b=(c=(a={id:(null==S?void 0:S.id)||y,focusPercentX:null==S?void 0:S.focusPercentX,focusPercentY:null==S?void 0:S.focusPercentY}).focusPercentX,E=a.focusPercentY,(l=a.id)?s.createElement(d.F,{miroId:l,freezeGifs:!1,focusPercentX:c,focusPercentY:E,strategy:h._S.Crop,width:70,height:70,otherWidths:[48,70],expectedWidth:70,rules:[{minWidth:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"},minHeight:{xs:"48px",sm:"48px",md:"48px",lg:"70px",xl:"70px"}}]}):null);return s.createElement(v.o,{post:o,presentationContext:"PLACEMENT"},s.createElement(m.x,{display:"flex",justifyContent:"space-between"},s.createElement(m.x,{flexShrink:"1",xs:{marginRight:"16px"},sm:{marginRight:"16px"},md:{marginRight:"16px"}},s.createElement(m.x,{paddingBottom:"8px"},s.createElement(g.X6,{scale:{xs:"XXS",sm:"XXS",md:"XXS",lg:"XS",xl:"XS"}},s.createElement(p.P,{href:(0,k.jVf)(o)},x))),s.createElement(u.G,{post:o,showBio:!1,scale:"S",detailScale:"S",showStar:!!o.isLocked,hideAvatar:!0,hideDescription:!0,noClamp:!0})),b&&s.createElement(m.x,r()({marginLeft:"12px",marginRight:"8px"},{sm:{marginLeft:"16px",marginRight:"0px"}}),s.createElement(f.r,{display:"block",href:(0,k.jVf)(o)},b))))}))},54741:(e,n,t)=>{"use strict";t.d(n,{y:()=>f,N:()=>g});var i=t(63038),r=t.n(i),o=t(46829),a=t(67294),l=t(68127),s=t(42933),c=t(53910),u=t(89375),d=t(37278),m=t(95760),p=t(51512);function f(e){var n=e.posts,t=e.sourceName,i=a.useRef(null),r=(0,m.Av)();return a.useEffect((function(){r.event("experiment.eligible",{experimentId:"57b820b82d68"})}),[]),0===n.length?null:a.createElement(s.x,{margin:"32px 0",md:{marginBottom:"0px"},ref:i},a.createElement(s.x,{marginBottom:"32px",borderBottom:"BASE_LIGHTER",paddingBottom:"8px"},a.createElement(d.X6,{scale:"S"},"More From Medium")),a.createElement(c.T,{alignItems:"flex-start"},n.map((function(e,n){return a.createElement(u.P,{key:"recirc-".concat(n),size:{xs:12,sm:12,md:12,lg:4,xl:4}},a.createElement(p.cW,{source:{name:t,index:n}},a.createElement(l.c,{post:e,target:i})))}))))}function g(e,n){var t=(0,o.useLazyQuery)(e,n),i=r()(t,2),l=i[0],s=i[1];return[a.useCallback((function(e){!s.called&&e.isIntersecting&&l()}),[s]),s]}},82423:(e,n,t)=>{"use strict";t.d(n,{F:()=>w,R:()=>N});var i=t(28655),r=t.n(i),o=t(63038),a=t.n(o),l=t(71439),s=t(67294),c=t(86948),u=t(47713),d=t(7883),m=t(64578),p=t(1506),f=t(74871),g=t(21356),v=t(71542),h=t(33819),k=t(72393),E=t(14071),x=t(62181),S=t(85677),y=t(42933),b=t(51512),P=t(51064);function _(){var e=r()(["\n  fragment PostFooterActionsBar_post on Post {\n    id\n    visibility\n    isPublished\n    allowResponses\n    postResponses {\n      count\n    }\n    isLimitedState\n    creator {\n      id\n    }\n    collection {\n      id\n    }\n    ...BookmarkButton_post\n    ...MultiVote_post\n    ...SusiClickable_post\n    ...ManageSubmission_post\n    ...CollectionSubmission_post\n    ...SharePostButtons_post\n    ...CreatorActionOverflowPopover_post\n    ...PostFooterSocialPopover_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return _=function(){return e},e}var w=function(e){var n,t=e.post,i=e.useSocialPopover,r=e.shouldHideClapsText,o=void 0!==r&&r,l=s.useContext(k.f).openSidebar,c=t.isPublished,p=t.creator,f=t.collection,x="clap_footer",_={post:t,source:"post_actions_footer"},w=(0,P.O)(!1),N=a()(w,2),C=N[0],F=N[1],I=(null==t||null===(n=t.postResponses)||void 0===n?void 0:n.count)||null;return s.createElement(s.Fragment,null,C&&s.createElement(S.T,null),s.createElement(y.x,{display:"flex",justifyContent:"space-between",print:{display:"none"}},s.createElement(b.cW,{source:{name:"post_actions_footer"}},s.createElement(y.x,{display:"flex",flexDirection:"row",alignItems:"center"},s.createElement(y.x,{maxWidth:"155px"},s.createElement(v.e,null,s.createElement(g.S,{post:t,buttonStyle:"SUBTLE",hasDialog:!0,shouldShowResponsiveLabelText:!0,shouldHideClapsText:o,susiEntry:x})),s.createElement(v.s,null,s.createElement(g.S,{post:t,buttonStyle:"SUBTLE",hasDialog:!0,shouldHideClapsText:o,susiEntry:x}))),s.createElement(b.cW,{source:{name:"follow_footer",susiEntry:"follow_footer"}},s.createElement(y.x,{marginLeft:"24px"},s.createElement(h.h,{trackingData:{postId:t.id},responsesCount:I,allowResponses:t.allowResponses,isLimitedState:t.isLimitedState,handleClick:l||function(){},responsesCountColor:"DARKER",iconStylesOverride:{marginTop:"4px"},countStylesOverride:{marginLeft:"4px",marginTop:"5px"}}))))),s.createElement(y.x,{display:"flex",alignItems:"center"},c&&s.createElement(s.Fragment,null,i?s.createElement(m.$,_):s.createElement(E.U,_),s.createElement(y.x,{flexGrow:"0",margin:"0 6px 0 7px"},s.createElement(b.cW,{source:{name:"post_actions_footer"}},s.createElement(u.o,{post:t,susiEntry:"bookmark_footer"})))),t&&p&&s.createElement(d.Z,{creator:p,post:t,collection:f,showLoadingIndicator:F,isDismissDisabled:!0}))))},N=(0,l.Ps)(_(),c.z,g.x,x.qU,f.En,p.x7,E.E,d.G,m.u)},92650:(e,n,t)=>{"use strict";t.d(n,{m:()=>M,a:()=>O});var i=t(28655),r=t.n(i),o=t(67154),a=t.n(o),l=t(63038),s=t.n(l),c=t(71439),u=t(67294),d=t(84783),m=t(88703),p=t(49925),f=t(76532),g=t(32589),v=t(10697),h=t(31001),k=t(57612),E=t(93258),x=t(42933),S=t(75209),y=t(82318),b=t(86021),P=t(37278),_=t(98024),w=t(77180),N=t(27108),C=t(67297),F=t(27952),I=t(61598);function T(){var e=r()(["\n  fragment PostFooterBylineAurora_post on Post {\n    id\n    creator {\n      name\n      username\n      bio\n      id\n      ...UserFollowButton_user\n      ...auroraHooks_publisher\n      ...userUrl_user\n      ...UserSubscribeButton_user\n    }\n    collection {\n      name\n      description\n      ...CollectionFollowButton_collection\n      ...collectionUrl_collection\n    }\n    ...UserFollowButton_post\n    ...CollectionFollowButton_post\n    ...useShowAuthorNewsletterV3Promo_post\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return T=function(){return e},e}var L="follow_footer",M=function(e){var n=e.post,t=e.maxWidthSize,i=void 0===t?"inset":t,r=n.creator,o=n.collection,l=(0,C.v9)((function(e){return e.config.authDomain})),c=(0,C.v9)((function(e){return e.navigation.currentLocation})),m=(0,f.H)().value,h=(0,w.F)(),k=(0,g.Pd)(r).viewerEdge,I=u.useState(0),T=s()(I,2),M=T[0],O=T[1],R=M<=h.breakpoints.sm,A=R?2:1,B=function(){O(window.innerWidth)};u.useEffect((function(){return B(),N.V6.on("resize",B),function(){return N.V6.off("resize",B)}}),[]);var D="REGULAR",U={xs:"XS",sm:"XS",md:"S",lg:"S",xl:"S"},H=(null==m?void 0:m.id)===(null==r?void 0:r.id)||R?void 0:"168px",V={display:"flex",justifyContent:"space-between",alignItems:"center"},j=(0,p.KW)(n.creator),z=o?(0,F.WGd)(o,c,l):r?(0,F.AWr)(r,l):"",W="More from ".concat(o?o.name:null==r?void 0:r.name),G=o?o.description:null==r?void 0:r.bio,X=null;r&&(X=m&&null!=k&&k.isBlocking?u.createElement(E.d,{buttonSize:D,targetUserId:r.id}):u.createElement(x.x,{display:"flex",marginLeft:"8px"},u.createElement(v.N,{creator:r,followButtonSize:D,post:n,susiEntry:L})));var $=o?u.createElement(d.Fp,{buttonSize:D,collection:o,post:n,susiEntry:L}):X;return u.createElement(x.x,{print:{display:"none"}},(null==r?void 0:r.name)&&(null==r?void 0:r.username)&&!j&&u.createElement(x.x,{paddingBottom:"30px"},u.createElement(S.P,{size:i},u.createElement(x.x,a()({},V,{borderTop:"BASE_LIGHTER",paddingTop:"33px"}),u.createElement(x.x,null,u.createElement(b.Lh,{scale:"S"},"Written by"),u.createElement(P.X6,{scale:U,clamp:A},u.createElement(y.r,{href:(0,F.AWr)(r,l)},r.name||r.username))),X),r.bio&&u.createElement(x.x,{paddingTop:"6px",paddingRight:H},u.createElement(_.F,{scale:"M"},r.bio)))),(o||j)&&u.createElement(x.x,{paddingTop:"32px",paddingBottom:"4px",backgroundColor:"BASE_LIGHT"},u.createElement(S.P,{size:i},u.createElement(x.x,V,u.createElement(P.X6,{scale:U,clamp:A},u.createElement(y.r,{href:z},W)),$),G&&u.createElement(x.x,{paddingTop:"5px",paddingRight:H},u.createElement(_.F,{scale:"M"},G)))))},O=(0,c.Ps)(T(),d.Iq,d.b3,I.n,h.S$,h.sj,p.C5,I.$,m.b0,k.w)},68171:(e,n,t)=>{"use strict";t.d(n,{L:()=>p,R:()=>f});var i=t(28655),r=t.n(i),o=t(71439),a=t(67294),l=t(42933),s=t(55099),c=t(67297),u=t(27952),d=t(61598);function m(){var e=r()(["\n  fragment PostFooterCollectionButton_collection on Collection {\n    id\n    name\n    ...collectionUrl_collection\n  }\n  ","\n"]);return m=function(){return e},e}var p=function(e){var n=e.collection,t=(0,c.v9)((function(e){return e.config.authDomain})),i=(0,c.v9)((function(e){return e.navigation.currentLocation}));return a.createElement(a.Fragment,null,(null==n?void 0:n.name)&&a.createElement(l.x,{maxWidth:"100%",textAlign:"center"},a.createElement(s.z,{buttonStyle:"STRONG",href:(0,u.WGd)(n,i,t)},"Read more from ",n.name)))},f=(0,o.Ps)(m(),d.n)},14894:(e,n,t)=>{"use strict";t.d(n,{H:()=>i});var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"UpsellClickable_post"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Post"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"collection"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"sequence"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sequenceId"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}},93258:(e,n,t)=>{"use strict";t.d(n,{d:()=>f});var i=t(63038),r=t.n(i),o=t(67294),a=t(885),l=t(76532),s=t(324),c=t(55099),u=t(77180),d=t(1072),m=t(51064),p=t(534),f=function(e){var n=e.buttonSize,t=e.targetUserId,i=(0,m.O)(!1),f=r()(i,3),g=f[0],v=f[1],h=f[2],k=(0,u.F)(),E=(0,s.Uo)().baseTheme,x=(0,p.q3)(k,E),S=(0,l.H)().value;return S?o.createElement(d.f,{theme:x},o.createElement(a.E,{targetUserId:t,viewerId:S&&S.id},(function(e){var t=e.mutate;return o.createElement(c.z,{buttonStyle:g?"SUBTLE":"ERROR",onClick:t,size:n||"REGULAR",onMouseEnter:v,onMouseLeave:h},g?"Unblock":"Blocked")}))):null}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/2564.210a88df.chunk.js.map