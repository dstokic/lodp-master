(self.webpackChunklite=self.webpackChunklite||[]).push([[118],{8538:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>y});var t=r(94725),o=r(67294),i=r(12291),s=r(66893),a=r(53976),u=r(64858),c=r(36511),l=r(39050),f=r(72351),d=r(52837),p=r(61250),v=r(31235),g=r(31117),m=r(67297),_=r(67616),h=r(29035),b=r(63038),w=r.n(b),E=r(59713),P=r.n(E),T=r(44059),A=r(14034);function M(){for(var e=new A.y,n=arguments.length,r=new Array(n),t=0;t<n;t++)r[t]=arguments[t];if(0===r.length)return e;var o=r.map((function(){return[]}));return r.forEach((function(n,r){n.observe((function(n){o[r].push(n),o.every((function(e){return e.length>0}))&&e.set(o.map((function(e){return e.shift()})))}))})),e}var S=function(e){return function(n){return P()({},e,n)}};const y=function(){var e,n,r,b,E,P,A,y,C,k,L,O,F,x,q,B,Y,D,j;return o.useEffect((function(){var e=M(_.sY,_.wZ,_.vY).map((function(e){var n=w()(e,3),r=n[0],t=n[1],o=n[2];return{responseEndToLCP:new _.jb(r.response.end,t.end),responseEndToFCP:new _.jb(r.response.end,o.end)}})),n=M(_.sY,_.qH.map(S("fid")),_.vY.map(S("fcp")),_.wZ.map(S("lcp")),e);_.cA.observe((function(e){e||n.observe((function(e){var n=e.reduce((function(e,n){return Object.assign(e,n)}),{}),r=Object.keys(n).reduce((function(e,r){var t=n[r].duration;return e[r]=t%1==0?t:Number(t.toFixed(1)),e}),{}),t=document.children[0],o={html:null==t?void 0:t.innerHTML.length,redux:JSON.stringify(window.__PRELOADED_STATE__).length,apollo:JSON.stringify(window.__APOLLO_STATE__).length};T.t.log("client hydrated",{perf:r,sizes:o})}))})),_.Df.observe((function(e){return T.t.log("client resource sizes",{resources:e})}))}),[]),e=(0,m.v9)((function(e){return e.tracing})),n=e.originalSpan,r=e.tracer,b=(0,u.c)(),E=b.loading,P=b.isBot,A=(0,m.v9)((function(e){return e.client.routingEntity})),y=(0,m.v9)((function(e){return e.auroraPage.isAuroraPageEnabled})),C=(0,c.r)(),k=C.loading,L=C.viewerId,O=(0,v.xg)(),F=(0,v.f$)(),x=(0,s.P5)("enable_medium_app"),q=(0,a.VB)({name:"enable_medium_app",placeholder:!1}),B=x||q,Y=(0,i.I0)(),D=(0,p.dh)(),j=(0,f.Av)(),o.useEffect((function(){var e;if(r&&j&&!E&&!P&&!k&&L){var o=D(window.location.pathname),i=null!==(e=null==o?void 0:o.route.metricName)&&void 0!==e?e:"unidentified",s=(0,l.Q)(L),a=(0,h.ic)(navigator.userAgent),u=[];O?u.push("edge_cache_enabled"):F&&u.push("edge_cache_control"),B&&u.push("enable_medium_app");var c=u.join(","),f={"user.logged_in":s,"user.experiment":c,"device.mobile_or_tablet":a,"req.route_name":i,"req.route":i,"req.router":(null==A?void 0:A.type)||d.Cr.DEFAULT},p={auroraPage:y,loggedIn:s,mobileOrTablet:a,experiment:c,route:i},v=function(e){return Math.round(1e3*e)},m=function(e,n,t,o){var i=t.start,s=t.end,a=r.startSpan("timing.".concat(n),{childOf:e,tags:f}).setBeginMicros(v(i)).setEndMicros(v(s));return null!=o&&o(a),a.finish(),a};_.sY.observe((function(e){var o,i,s,a;j.reportRender(p,e);var u=r.startSpan("timing.navigation",{references:n?[(0,t.followsFrom)(n)]:void 0,tags:f}).setBeginMicros(v(e.load.start)).setEndMicros(v(e.load.end)).log({redirect_count:null!==(o=null===(i=window)||void 0===i||null===(s=i.performance)||void 0===s||null===(a=s.navigation)||void 0===a?void 0:a.redirectCount)&&void 0!==o?o:0});m(u,"beforeDomainLookup",e.before_domain_lookup),m(u,"domainLookup",e.domain_lookup),m(u,"connect",e.connect),m(u,"request",e.request),m(u,"response",e.response),m(u,"processing",e.processing);var c=e.overall_fcp,l=e.client,d=e.render;null!=c&&m(u,"firstContentfulPaint",c),null!=l&&m(u,"client",l,(function(e){null!=d&&m(e,"render",d)})),u.finish(),Y((0,g.YU)(u.generateTraceURL()))})),_.vY.observe((function(e){j.reportFirstContentfulPaint(p,e),r.startSpan("timing.firstContentfulPaint.v2",{references:n?[(0,t.followsFrom)(n)]:void 0,tags:f}).setBeginMicros(v(e.start)).setEndMicros(v(e.end)).finish()})),_.wZ.observe((function(e){j.reportLargestContentfulPaint(p,e),r.startSpan("timing.largestContentfulPaint",{references:n?[(0,t.followsFrom)(n)]:void 0,tags:f}).setBeginMicros(v(e.start)).setEndMicros(v(e.end)).finish()})),_.yI.observe((function(e){j.reportCumulativeLayoutShift(p,e)})),_.cA.observe((function(e){e&&j.reportUnsupportedPerfObserver(p)})),_.qH.observe((function(e){j.reportInput(p,e),r.startSpan("timing.input.first.delay",{references:n?[(0,t.followsFrom)(n)]:void 0,tags:f}).setBeginMicros(v(e.start)).setEndMicros(v(e.end)).finish()}))}}),[r,k,L,E,P,B]),null}},72864:(e,n,r)=>{"use strict";r.r(n),r.d(n,{init:()=>i,extractSpan:()=>s});var t=r(45573),o=r(94725),i=function(e){var n=e.name,r=e.host,i=e.token,s=e.appVersion,a=new t.Tracer({component_name:n,xhr_instrumentation:!1,access_token:i,collector_host:r,default_span_tags:{"component.version":s}});return(0,o.initGlobalTracer)(a),a},s=function(e,n){if(n)return e.extract(o.FORMAT_HTTP_HEADERS,n)}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/instrumentation.398b925f.chunk.js.map